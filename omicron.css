/* Общие стили */
body, html {
  height: 100%;
  margin: 0;
  padding: 0;
  font-family: 'Arial', sans-serif;
  color: #ffffff;
  overflow: hidden;
  background: black;
}

header {
  text-align: center;
  padding: 60px 20px;
  background: rgba(0, 0, 0, 0.5);
  position: relative;
  z-index: 4; /* Повышенный z-index для header */
}

header h1 {
  font-size: 4em;
  margin: 0;
  color: #e0b3ff;
  text-shadow: 0 0 10px #e0b3ff, 0 0 20px #e0b3ff;
}

header p {
  font-size: 1.5em;
  margin-top: 10px;
  color: #d1a3ff;
}

main {
  position: relative;
  z-index: 3; /* Повышенный z-index для main */
  padding: 20px;
}

.letter-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: 20px;
  max-width: 1000px;
  margin: auto;
  perspective: 1500px; /* Увеличенная перспектива для более глубокого 3D-эффекта */
}

.letter-box {
  /* Обновленный стиль для 3D-квадратных панелей с видимой толщиной */
  position: relative;
  background: rgba(255, 255, 255, 0.1); /* Полупрозрачный фон */
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 10px;
  padding: 20px;
  text-align: center;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  backdrop-filter: blur(10px); /* Эффект размытия фона */
  box-shadow: 0 8px 40px rgba(0, 0, 0, 0.5); /* Усиленная тень для большего контраста */
  cursor: pointer;
  transform-style: preserve-3d;
  transform: rotateX(var(--rotateX, 0deg)) rotateY(var(--rotateY, 0deg)) scale(1);
}

/* Псевдоэлементы для создания толщины панели */
.letter-box::before,
.letter-box::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.05); /* Тонкий слой для имитации толщины */
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 10px;
  transform: translateZ(-10px); /* Смещение назад для создания толщины */
  pointer-events: none; /* Чтобы не мешали взаимодействию */
}

/* Альтернативный псевдоэлемент для более реалистичной толщины */
.letter-box::after {
  background: rgba(0, 0, 0, 0.1); /* Тёмный слой для глубины */
  transform: translateZ(-20px) rotateY(180deg);
}

.letter-box:hover {
  /* Плавное масштабирование и усиленное вращение при наведении */
  transform: rotateX(var(--rotateX, 0deg)) rotateY(var(--rotateY, 0deg)) scale(1.1);
  box-shadow: 0 12px 60px rgba(0, 0, 0, 0.7); /* Усиленная тень при наведении */
}

/* Стили для ссылок */
.letter-link.inactive {
  pointer-events: none; /* Отключение кликов */
  cursor: default;
  /* Дополнительные стили для визуальной неактивности */
  opacity: 0.6;
}

.letter-link.active {
  cursor: pointer;
}

/* Стили для текста ссылок */
.letter-link {
  text-decoration: none;
  color: #ffffff;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
}

.greek-letter {
  font-size: 3em;
  font-weight: bold;
  color: #e0b3ff;
  text-shadow: 0 0 10px #e0b3ff, 0 0 20px #e0b3ff;
  margin-bottom: 10px;
}

.letter-name {
  font-size: 1.2em;
  color: #d1a3ff;
}

/* Космический фон с динамическими звёздами */
.stars {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
  pointer-events: none; /* Чтобы не мешали взаимодействию с контентом */
}

.star {
  position: absolute;
  width: 2px;
  height: 2px;
  background: white;
  border-radius: 50%;
  opacity: 0;
  animation: twinkle 5s infinite;
}

@keyframes twinkle {
  0%, 100% { opacity: 0; }
  50% { opacity: 1; }
}

/* Движущиеся облака */
.clouds {
  position: fixed;
  top: 0;
  left: 0;
  width: 200%;
  height: 100%;
  background: transparent;
  box-shadow:
      250px 350px rgba(255, 255, 255, 0.2),
      450px 550px rgba(255, 255, 255, 0.3),
      650px 750px rgba(255, 255, 255, 0.2),
      850px 950px rgba(255, 255, 255, 0.1),
      1050px 1050px rgba(255, 255, 255, 0.2),
      1250px 1150px rgba(255, 255, 255, 0.1),
      1450px 1350px rgba(255, 255, 255, 0.2),
      1650px 1550px rgba(255, 255, 255, 0.1),
      1850px 1750px rgba(255, 255, 255, 0.2),
      2050px 1950px rgba(255, 255, 255, 0.1);
  animation: moveClouds 100s linear infinite;
  opacity: 0.3;
  z-index: 2;
}

@keyframes moveClouds {
  from { transform: translateX(0); }
  to { transform: translateX(-1000px); }
}

/* Стили для комет */
.comets {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 3;
}

.comet {
  position: absolute;
  width: 3px;
  height: 3px;
  background: linear-gradient(45deg, rgba(255,255,255,1), rgba(255,255,255,0));
  border-radius: 50%;
  opacity: 0;
  transform: rotate(45deg);
  animation: cometMove 3s linear forwards;
}

@keyframes cometMove {
  0% {
    opacity: 1;
    transform: translate(0, 0) rotate(45deg);
  }
  100% {
    opacity: 0;
    transform: translate(100vw, 100vh) rotate(45deg);
  }
}

/* Дополнительные классы для разных цветов комет */
.comet.blue {
  background: linear-gradient(45deg, rgba(0, 150, 255, 1), rgba(0, 150, 255, 0));
}

.comet.purple {
  background: linear-gradient(45deg, rgba(150, 0, 255, 1), rgba(150, 0, 255, 0));
}

/* Контейнер для Three.js сцены */
#three-container {
  position: fixed;
  top: 50px; /* Расположение планеты от верхнего края */
  right: 50px; /* Расположение планеты от правого края */
  width: 400px; /* Ширина контейнера */
  height: 400px; /* Высота контейнера */
  z-index: 5; /* Размещаем поверх остальных элементов */
  border-radius: 15px;
  overflow: hidden;
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
}

/* Адаптивность */
@media (max-width: 600px) {
  .letter-grid {
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  }

  .letter-box {
    padding: 15px;
  }

  .greek-letter {
    font-size: 2.5em;
  }

  .letter-name {
    font-size: 1em;
  }

  header h1 {
    font-size: 2.5em;
  }

  header p {
    font-size: 1em;
  }

  /* Уменьшаем размер и перемещаем планету на мобильных устройствах */
  #three-container {
    width: 200px;
    height: 200px;
    top: 20px;
    right: 20px;
  }
}
